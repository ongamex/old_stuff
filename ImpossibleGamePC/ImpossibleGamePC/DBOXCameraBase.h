#ifndef DBOXCAMERABASE_H
#define DBOXCAMERABASE_H

#include <d3d9.h>
#include <d3dx9.h>
#include "DBOXMath.h"

#define DBOXCAMERA_NULL 0
#define DBOXCAMERA_FP	1
#define DBOXCAMERA_TP	2

//Class
class DBOXCameraBase 
{
protected :
	DWORD CameraType;

	float Aspect;
	float Fovy;
	float Near , Far;
	
	D3DXVECTOR3 Eye;
	D3DXVECTOR3 Look , Up ;
	D3DXVECTOR3 Right;

	DWORD dwLighting;

	//spec for 3rd persion camera
	float Radius;
	D3DXVECTOR3 *AutoTarget;
public :
	DBOXCameraBase();
	DBOXCameraBase(DWORD dwCameraType);
	~DBOXCameraBase();
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//set//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void SetAspect(float aspect);
	void SetFovy(float fovy);
	void SetNear(float zNear);
	void SetFar(float zFar);
	void SetProjectionSettings(float fAspect , float fFovy , float fNear , float fFar);
	void SetRadius(float Units);

	void SetAutoTarget(D3DXVECTOR3 *p);
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//get//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	float GetAspect();
	float GetFovy();
	float GetNear();
	float GetFar();
	float GetRadius();

	D3DXVECTOR3 GetEye();
	D3DXVECTOR3 GetLook();
	D3DXVECTOR3 GetUp();
	D3DXVECTOR3 GetRight();

	DWORD GetType();
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	HRESULT		Capture(LPDIRECT3DDEVICE9 d3ddev);
	HRESULT		SkyRenderMode(LPDIRECT3DDEVICE9 d3ddev);
	
};

typedef DBOXCameraBase* LPDBOXCAMERABASE;
typedef DBOXCameraBase* PDBOXCAMERABASE;

//Afterclass

#endif